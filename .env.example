# ===================================================================
# TradingAgents 加密货币版本 - 统一配置文件（带详细注释）
# ===================================================================
# 将此文件复制为 .env 并填入你的实际配置
# 命令: cp env_template.txt .env
# ===================================================================

# -------------------------------------------------------------------
# 第一部分：API 密钥配置（必需）
# -------------------------------------------------------------------

# OpenAI API 密钥（必需）
# 用途: 驱动所有 AI 智能体（分析师、研究员、交易员等）
# 获取: https://platform.openai.com/api-keys
# 格式: sk-proj-xxxxxxxxxxxxxxxx
# 注意: 确保账户有足够余额，系统会调用多次 API
OPENAI_API_KEY=sk-your-openai-api-key-here

# Alpha Vantage API 密钥（推荐）
# 用途: 获取加密货币新闻和市场数据
# 获取: https://www.alphavantage.co/support/#api-key（免费）
# 说明: 如果不设置，新闻分析师将无法工作
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-key-here

# 币安 API 密钥（实盘交易必需，测试模式可留空）
# 用途: 连接币安交易所，获取数据和执行交易
# 获取: https://www.binance.com/zh-CN/my/settings/api-management
# 权限: 只需启用"现货和杠杆交易"、"期货"，不要启用"提现"
# 安全: 建议设置 IP 白名单，定期更换密钥
BINANCE_API_KEY=your-binance-api-key-here
BINANCE_SECRET=your-binance-secret-here

# -------------------------------------------------------------------
# 第二部分：LLM（大语言模型）配置
# -------------------------------------------------------------------

# LLM 提供商
# 可选值: openai, anthropic, google, ollama
# 说明: 
#   - openai: 使用 GPT 模型（推荐，稳定性好）
#   - anthropic: 使用 Claude 模型（推理能力强）
#   - google: 使用 Gemini 模型（免费额度高）
#   - ollama: 使用本地模型（需自己部署）
LLM_PROVIDER=openai

# 深度思考模型（用于关键决策）
# 用途: 研究经理（综合分析）、风险经理（最终决策）
# OpenAI 推荐: gpt-4o, gpt-4-turbo, o1-preview
# Anthropic 推荐: claude-3-opus-20240229
# 说明: 使用更强大的模型，决策质量更高但成本也更高
DEEP_THINK_LLM=gpt-4o

# 快速思考模型（用于日常分析）
# 用途: 市场分析师、新闻分析师、研究员等
# OpenAI 推荐: gpt-4o-mini, gpt-3.5-turbo
# Anthropic 推荐: claude-3-haiku-20240307
# 说明: 使用较小的模型降低成本，响应速度快
QUICK_THINK_LLM=gpt-4o-mini

# LLM API 后端地址（高级选项）
# 默认值: https://api.openai.com/v1（OpenAI 官方）
# 其他选项:
#   - https://openrouter.ai/api/v1（OpenRouter，支持多种模型）
#   - 自建代理服务器地址
# 说明: 如果使用 OpenRouter，需同时修改 OPENAI_API_KEY
LLM_BACKEND_URL=https://api.openai.com/v1

# -------------------------------------------------------------------
# 第三部分：智能体行为配置
# -------------------------------------------------------------------

# 投资辩论轮数
# 说明: Bull Researcher（看涨）和 Bear Researcher（看跌）的辩论次数
# 范围: 1-5 轮
# 影响: 
#   - 轮数越多，分析越全面，但耗时更长，成本更高
#   - 1轮: 快速决策，适合短线
#   - 2-3轮: 平衡选择（推荐）
#   - 4-5轮: 深度分析，适合重要决策
MAX_DEBATE_ROUNDS=2

# 风险讨论轮数
# 说明: Risky、Safe、Neutral 三位风险分析师的讨论次数
# 范围: 1-5 轮
# 影响: 类似辩论轮数，轮数越多风险评估越全面
MAX_RISK_DISCUSS_ROUNDS=2

# 选择的分析师（用逗号分隔，不要有空格）
# 可选分析师:
#   - market: 市场技术分析师（分析K线、技术指标）
#   - crypto: 加密货币专属分析师（资金费率、订单簿深度）
#   - social: 社交媒体情绪分析师（Twitter、Reddit等）
#   - news: 新闻分析师（宏观新闻、市场事件）
# 注意: 不要包括 fundamentals（加密货币没有传统财报）
# 建议: 
#   - 全面分析: market,crypto,social,news（推荐）
#   - 纯技术: market,crypto
#   - 快速模式: market
SELECTED_ANALYSTS=market,crypto,social,news

# -------------------------------------------------------------------
# 第四部分：数据源配置
# -------------------------------------------------------------------

# 股票/加密货币价格数据供应商
# 可选值: ccxt, yfinance, alpha_vantage
# 说明: 
#   - ccxt: 加密货币专用，支持币安等交易所（推荐）
#   - yfinance: 主要用于股票，也支持部分加密货币
DATA_VENDOR_STOCK=ccxt

# 技术指标数据供应商
# 可选值: ccxt, yfinance
# 说明: 基于价格数据计算技术指标（SMA、RSI、MACD等）
DATA_VENDOR_INDICATORS=ccxt

# 新闻数据供应商
# 可选值: alpha_vantage, openai, google
# 说明:
#   - alpha_vantage: 专业金融新闻，免费（推荐）
#   - openai: 通过 GPT 总结新闻
#   - google: Google News API
DATA_VENDOR_NEWS=alpha_vantage

# 加密货币专属数据供应商
# 可选值: ccxt
# 说明: 提供资金费率、订单簿等加密货币特有数据
DATA_VENDOR_CRYPTO=ccxt

# -------------------------------------------------------------------
# 第五部分：币安交易配置
# -------------------------------------------------------------------

# 币安代理地址（可选）
# 说明: 如果无法直接访问币安，需要设置代理
# 格式: http://host:port 或 socks5://host:port
# 示例: http://192.168.0.226:6152
# 注意: 如果不需要代理，可以删除这行或留空
BINANCE_PROXY=http://192.168.0.226:6152

# 测试模式开关
# 可选值: true, false
# 说明:
#   - true: 仅模拟交易，不会实际下单（强烈推荐用于测试）
#   - false: 实盘交易，会真实下单 ⚠️ 有资金风险！
# 建议: 在充分测试验证策略之前，始终保持为 true
BINANCE_TEST_MODE=true

# 杠杆倍数
# 范围: 1-125 倍
# 说明: 使用多少倍杠杆进行交易
# 风险等级:
#   - 1-3倍: 低风险，适合新手
#   - 5-10倍: 中等风险（推荐）
#   - 10-20倍: 高风险
#   - 20倍以上: 极高风险，容易爆仓 ⚠️
# 注意: 杠杆越高，盈利和亏损都会被放大
BINANCE_LEVERAGE=10

# -------------------------------------------------------------------
# 第六部分：交易参数
# -------------------------------------------------------------------

# 交易对
# 格式: BASE/QUOTE（基础货币/计价货币）
# 常见选项:
#   - BTC/USDT: 比特币对USDT
#   - ETH/USDT: 以太坊对USDT
#   - BNB/USDT: 币安币对USDT
# 说明: 交易对必须是币安期货支持的
CRYPTO_SYMBOL=BTC/USDT

# K线时间周期
# 可选值: 1m, 5m, 15m, 30m, 1h, 4h, 1d, 1w
# 说明: 
#   - 1m-15m: 超短线，适合高频交易
#   - 1h: 短线，日内交易（推荐）
#   - 4h: 中短线
#   - 1d: 长线，波段交易
# 注意: 系统会根据此周期自动安排运行时间（15m=每15分钟，1h=每小时）
# 建议: 新手使用 1h 或 4h，避免过度交易
CRYPTO_TIMEFRAME=1h

# 数据回看天数（可选，推荐留空使用智能推荐）
# 说明: 获取历史 K 线数据的天数，用于计算技术指标
# 影响: 
#   - 天数越多，数据越全面，但会增加 LLM 的 context 负担和成本
#   - 天数越少，分析速度快，但可能遗漏长期趋势
# 智能推荐（如果不设置此选项，系统会根据 K 线周期自动推荐）:
#   - 1m/5m → 3天（约 2000-4000 根 K 线）
#   - 15m → 5天（约 480 根 K 线）
#   - 30m → 7天（约 336 根 K 线）
#   - 1h → 10天（约 240 根 K 线）
#   - 4h → 15天（约 90 根 K 线）
#   - 1d → 60天（约 60 根 K 线）
# 建议: 
#   - 大部分情况下留空即可，让系统智能选择
#   - 如果遇到 LLM context 超限错误，可以手动设置更小的值
#   - 如果需要分析长期趋势（如 MA200），可以设置更大的值
# 格式: 正整数（天数）
# 示例: CRYPTO_LOOKBACK_DAYS=10
# 注意: 删除下面的注释符号 # 来启用此选项
# CRYPTO_LOOKBACK_DAYS=10

# 默认仓位大小（单位：BTC）
# 说明: 每次开仓的加密货币数量
# 计算: 确保 仓位大小 × 当前价格 × 杠杆 ≥ 币安最小交易额（通常100 USDT）
# 示例: 0.001 BTC × 100,000 USD × 10杠杆 = 1,000 USD 名义价值
# 建议: 从小额开始，逐步增加
POSITION_SIZE=0.001

# 最大仓位大小（单位：BTC）
# 说明: 单笔交易的最大持仓量，防止过度下注
# 风险控制: 即使信号非常强，也不会超过这个限制
MAX_POSITION_SIZE=0.01

# -------------------------------------------------------------------
# 第七部分：风险管理参数
# -------------------------------------------------------------------

# 最大回撤比例
# 范围: 0.0-1.0（0%-100%）
# 说明: 当账户总资金从最高点回撤超过此比例时，系统停止交易
# 示例: 0.15 = 15%，即亏损15%后暂停
# 目的: 保护本金，避免深度亏损
# 建议: 保守型 10%，平衡型 15-20%，激进型 25%
MAX_DRAWDOWN=0.15

# 单次交易风险比例
# 范围: 0.0-1.0（0%-100%）
# 说明: 每笔交易最多承受账户资金的多少比例风险
# 示例: 0.02 = 2%，即每次交易最多亏损账户的2%
# 计算: 基于止损距离和仓位大小
# 建议: 保守型 1%，平衡型 2%，激进型 3-5%
RISK_PER_TRADE=0.02

# 加密货币波动率乘数
# 范围: 1.0-3.0
# 说明: 由于加密货币波动性远高于股票，需要放宽止损距离
# 作用: 止损位 = 技术止损位 × 波动率乘数
# 示例: 1.5 表示止损距离是股票的1.5倍
# 建议: BTC使用1.5，高波动山寨币可以用2.0-2.5
VOLATILITY_MULTIPLIER=1.5

# -------------------------------------------------------------------
# 第八部分：系统功能配置
# -------------------------------------------------------------------

# 是否启用记忆系统
# 可选值: true, false
# 说明:
#   - true: 系统会记住过往交易，从成功和失败中学习
#   - false: 每次都是全新分析，不参考历史
# 功能: 记录交易决策和结果，用于反思和优化
# 建议: 启用，可以逐步提升决策质量
USE_MEMORY=true

# 检索记忆数量
# 范围: 1-10
# 说明: 每次决策时，从记忆库中检索最相关的历史记录数量
# 影响: 数量越多，参考越全面，但可能引入噪音
# 建议: 3-5 条
MEMORY_TOP_K=3

# 调试模式
# 可选值: true, false
# 说明:
#   - true: 显示所有智能体的详细对话过程（推荐学习时使用）
#   - false: 只显示最终结果，输出简洁
# 用途: 理解 AI 的决策逻辑，发现问题
# 性能: 调试模式会显示更多信息，但不影响决策
DEBUG_MODE=true

# 自动执行交易开关
# 可选值: true, false
# 说明:
#   - false: 仅生成交易建议，不实际下单（强烈推荐）
#   - true: 自动执行交易 ⚠️⚠️⚠️ 极度危险！
# 警告: 除非你完全理解系统行为并充分测试，否则不要设置为 true
# 建议: 永远保持为 false，人工审核后再手动交易
AUTO_EXECUTE=false

# 结果保存目录
# 说明: 交易日志、分析报告、状态记录的保存位置
# 默认值: ./crypto_results
# 内容: 包括完整的智能体对话、决策过程、持仓记录等
# 用途: 回溯分析、性能评估、策略优化
RESULTS_DIR=./crypto_results

# ===================================================================
# 配置完成后的下一步:
# 1. 保存此文件为 .env
# 2. 填入你的真实 API 密钥
# 3. 根据你的风险偏好调整参数
# 4. 运行测试: python test_crypto_setup.py
# 5. 启动系统: python main_crypto.py
# ===================================================================

